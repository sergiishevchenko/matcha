{% extends "base.html" %}
{% block title %}Reset password - Matcha{% endblock %}
{% block content %}
<div class="form-box">
    {% if step == 'request' %}
    <h1>Reset password</h1>
    <p>Enter your email to receive a reset link.</p>
    <form method="post" action="{{ url_for('auth.reset_password_request') }}" novalidate>
        <div class="form-group">
            <label for="email">Email</label>
            <input type="email" id="email" name="email" required autocomplete="email" value="{{ request.form.email or '' }}">
        </div>
        <button type="submit" class="btn btn-block">Send reset link</button>
    </form>
    {% else %}
    <h1>Set new password</h1>
    <form method="post" action="{{ url_for('auth.reset_password_confirm', token=token) }}" novalidate>
        <div class="form-group">
            <label for="password">New password</label>
            <input type="password" id="password" name="password" required autocomplete="new-password">
        </div>
        <div class="form-group">
            <label for="password_confirm">Confirm new password</label>
            <input type="password" id="password_confirm" name="password_confirm" required autocomplete="new-password">
        </div>
        <button type="submit" class="btn btn-block">Reset password</button>
    </form>
    {% endif %}
    <p class="form-links"><a href="{{ url_for('auth.login') }}">Back to login</a></p>
</div>
{% endblock %}
